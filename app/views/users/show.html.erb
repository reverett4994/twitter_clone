<p id="notice"><%= notice %></p>

<p>
  <strong>Username:</strong>
  <%= @user.username %>
</p>

<p>
  <strong>Email:</strong>
  <%= @user.email %>
</p>

<p>
  <strong>First name:</strong>
  <%= @user.first_name %>
</p>

<p>
  <strong>Last name:</strong>
  <%= @user.last_name %>
</p>

<p>
  <strong>Friends</strong>
  <% @user.friends.each do |friend| %>
    
    <% if session[:user_id]==@user.id %>
      <%= link_to friend.username, remove_friend_path(:id=>friend.id), data: { confirm: 'Are you sure you want to remove this friend?' }  %> 
    <% else %>
      <%= friend.username %>
    <%end%>

    <br>
  <%end%>
</p>

<p>
  <% if session[:user_id]==@user.id %>
    <strong>Pending Friend Requests</strong>
    <% @user.pending_friends.each do |friend| %>
    <%= friend.username %>
  <%end%>
  <br>
  <%end%>
</p>
<% if session[:user_id]==@user.id %>
  <p>
    <strong>Received Friends Requests</strong>
    <% @user.requested_friends.each do |friend| %>

      <%= link_to friend.username, accept_friend_path(:id=>friend.id), data: { confirm: 'Are you sure you want to accept this friend request?' }  %> 
      
      <br>
    <%end%>
  </p>
<%end%>



<% if session[:user_id]==@user.id %>
  <%= link_to 'Edit', edit_user_path(@user) %>
<%else%>
   <%= link_to 'Request Friend', request_friend_path(:id=>@user.id) %>
<%end%>
<%= link_to 'Back', users_path %>
